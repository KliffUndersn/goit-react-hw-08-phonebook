(this["webpackJsonpgoit-react-hw-08-phonebook"]=this["webpackJsonpgoit-react-hw-08-phonebook"]||[]).push([[0],{28:function(e,t,n){e.exports={menu:"NavbarMenu_menu__30d7D",link:"NavbarMenu_link__1sJom",activeLink:"NavbarMenu_activeLink__1yVqL"}},43:function(e,t,n){e.exports={form:"LoginForm_form__2dHBG"}},44:function(e,t,n){e.exports={form:"RegisterForm_form__2a0by"}},46:function(e,t,n){e.exports={row:"Navbar_row__1Dg6N"}},51:function(e,t,n){},79:function(e,t,n){"use strict";n.r(t);var r,c,a,u=n(0),s=n.n(u),o=n(24),i=n.n(o),b=(n(51),n(2)),j=n(16),O=n(8),l=n(5),f=n(34),d=n(32),h=n.n(d),p=Object(b.b)("contacts/filter"),m=Object(b.b)("contacts/getRequest"),v=Object(b.b)("contacts/getSuccess"),x=Object(b.b)("contacts/getError"),g=Object(b.b)("contacts/addRequest"),w=Object(b.b)("contacts/addSuccess"),k=Object(b.b)("contacts/addError"),y=Object(b.b)("contacts/removeRequest"),C=Object(b.b)("contacts/removeSuccess"),R=Object(b.b)("contacts/removeError"),_=Object(b.c)({filter:"",items:[]},(r={},Object(l.a)(r,v,(function(e,t){return{filter:"",items:t.payload}})),Object(l.a)(r,w,(function(e,t){var n=t.payload;return{filter:e.filter,items:[].concat(Object(f.a)(e.items),[n])}})),Object(l.a)(r,C,(function(e,t){var n=t.payload;return{filter:e.filter,items:e.items.filter((function(e){return e.id!==n}))}})),Object(l.a)(r,p,(function(e,t){return{filter:t.payload,items:Object(f.a)(e.items)}})),r)),L=Object(O.b)({items:_}),S=n(4),q=Object(b.b)("auth/userRegisterRequest"),A=Object(b.b)("auth/userRegisterSuccess"),E=Object(b.b)("auth/userRegisterError"),N=Object(b.b)("auth/userLoginRequest"),z=Object(b.b)("auth/userLoginSuccess"),F=Object(b.b)("auth/userLoginError"),P=(Object(b.b)("auth/userLogOutRequest"),Object(b.b)("auth/userLogOutSuccess")),D=(Object(b.b)("auth/userLogOutError"),Object(b.b)("auth/userRefreshRequest"),Object(b.b)("auth/userRefreshSuccess")),M=Object(b.b)("auth/userRefreshError"),B={token:null,user:{email:"",name:""}},J=Object(b.c)(B,(c={},Object(l.a)(c,A,(function(e,t){return t.payload})),Object(l.a)(c,z,(function(e,t){return t.payload})),Object(l.a)(c,P,(function(){return B})),Object(l.a)(c,D,(function(e,t){var n=t.payload;return Object(S.a)(Object(S.a)({},e),{},{user:n})})),Object(l.a)(c,M,(function(){return B})),c)),Z=Object(b.c)(!1,(a={},Object(l.a)(a,A,(function(){return!0})),Object(l.a)(a,z,(function(){return!0})),Object(l.a)(a,P,(function(){return!1})),Object(l.a)(a,D,(function(){return!0})),Object(l.a)(a,M,(function(){return!1})),a)),G={key:"token",version:1,storage:h.a,whitelist:["token"]},H=Object(j.g)(G,J),I=Object(O.b)({user:H,isAuth:Z}),U=Object(O.b)({contacts:L,auth:I}),V=Object(b.a)({reducer:U,middleware:function(e){return e({serializableCheck:{ignoredActions:[j.a,j.f,j.b,j.c,j.d,j.e]}})}}),$=(Object(j.h)(V),V),K=n(9),Q=n(19),T=n(7),W=n(6),X=n.n(W),Y=n(15),ee=n(27),te=n.n(ee),ne=te.a.create({baseURL:"https://connections-api.herokuapp.com/"}),re=function(e){te.a.defaults.headers.common.Authorization="Bearer ".concat(e)},ce=function(){te.a.defaults.headers.common.Authorization=""},ae=function(){var e=Object(Y.a)(X.a.mark((function e(){var t,n;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ne.get("/contacts");case 2:return t=e.sent,n=t.data,console.log(n),e.abrupt("return",n);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ue=function(){var e=Object(Y.a)(X.a.mark((function e(t){var n,r;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ne.post("/contacts",t);case 2:return n=e.sent,r=n.data,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),se=function(){var e=Object(Y.a)(X.a.mark((function e(t){var n,r;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ne.delete("/contacts/".concat(t));case 2:return n=e.sent,r=n.data,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),oe=function(){var e=Object(Y.a)(X.a.mark((function e(){var t,n,r;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ne.get("/users/current");case 2:return t=e.sent,n=t.data,r=$.getState(),re(r.auth.user.token),e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ie=function(){var e=Object(Y.a)(X.a.mark((function e(t){var n,r;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ne.post("/users/signup",t);case 2:return n=e.sent,r=n.data,re(r.token),e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),be=function(){var e=Object(Y.a)(X.a.mark((function e(t){var n,r;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ne.post("/users/login",t);case 2:return n=e.sent,r=n.data,re(r.token),e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),je=function(){var e=Object(Y.a)(X.a.mark((function e(t){var n,r;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ne.post("/users/logout",t);case 2:return n=e.sent,r=n.data,ce(),e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Oe={fetchAllContacts:ae,fetchAddContact:ue,fetchRemoveContact:se,fetchGetCurrent:oe,fetchPostSignup:ie,fetchPostLogin:be,fetchPostLogout:je},le=function(){var e=function(){var e=Object(Y.a)(X.a.mark((function e(t){var n;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(m()),e.prev=1,e.next=4,Oe.fetchAllContacts();case 4:n=e.sent,t(v(n)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),t(x(e.t0));case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}();return e},fe=function(e){var t=function(){var t=Object(Y.a)(X.a.mark((function t(n){var r;return X.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(g()),t.prev=1,t.next=4,Oe.fetchAddContact(e);case 4:r=t.sent,n(w(r)),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),n(k(t.t0));case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}();return t},de=function(e){var t=function(){var t=Object(Y.a)(X.a.mark((function t(n){return X.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(y()),t.prev=1,t.next=4,Oe.fetchRemoveContact(e);case 4:t.sent,n(C(e)),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),n(R(t.t0));case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}();return t},he=n(1),pe=function(){var e=Object(K.c)((function(e){return e.contacts.items.items})),t=Object(K.c)((function(e){return e.contacts.items.filter})),n=function(n){return e.filter((function(e){return e.name.toLowerCase().includes(t)}))},r=Object(K.b)();return Object(he.jsx)(he.Fragment,{children:n&&Object(he.jsxs)(he.Fragment,{children:[Object(he.jsx)("h3",{children:"Contacts"}),Object(he.jsx)("ul",{children:n().map((function(e){return Object(he.jsxs)("li",{children:[e.name," : ",e.number,Object(he.jsx)("button",{onClick:function(){return r(de(e.id))},children:"Delete"})]},e.id)}))})]})})},me=n(18),ve={name:{type:"text",name:"name",pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",title:"\u0418\u043c\u044f \u043c\u043e\u0436\u0435\u0442 \u0441\u043e\u0441\u0442\u043e\u044f\u0442\u044c \u0442\u043e\u043b\u044c\u043a\u043e \u0438\u0437 \u0431\u0443\u043a\u0432, \u0430\u043f\u043e\u0441\u0442\u0440\u043e\u0444\u0430, \u0442\u0438\u0440\u0435 \u0438 \u043f\u0440\u043e\u0431\u0435\u043b\u043e\u0432. \u041d\u0430\u043f\u0440\u0438\u043c\u0435\u0440 Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan \u0438 \u0442. \u043f.",required:!0},number:{type:"tel",name:"number",pattern:"+?d{1,4}?[-.s]?(?d{1,3}?)?[-.s]?d{1,4}[-.s]?d{1,4}[-.s]?d{1,9}",title:"\u041d\u043e\u043c\u0435\u0440 \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u0430 \u0434\u043e\u043b\u0436\u0435\u043d \u0441\u043e\u0441\u0442\u043e\u044f\u0442\u044c \u0446\u0438\u0444\u0440 \u0438 \u043c\u043e\u0436\u0435\u0442 \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u0442\u044c \u043f\u0440\u043e\u0431\u0435\u043b\u044b, \u0442\u0438\u0440\u0435, \u043a\u0440\u0443\u0433\u043b\u044b\u0435 \u0441\u043a\u043e\u0431\u043a\u0438 \u0438 \u043c\u043e\u0436\u0435\u0442 \u043d\u0430\u0447\u0438\u043d\u0430\u0442\u044c\u0441\u044f \u0441 +",required:!0}},xe=function(){var e=Object(K.b)(),t=Object(K.c)((function(e){return e.contacts.items.items}));console.log(t);var n=Object(u.useState)({name:"",number:""}),r=Object(me.a)(n,2),c=r[0],a=r[1];Object(u.useEffect)((function(){e(le())}),[]);var s=function(e){var t=e.target;a(Object(S.a)(Object(S.a)({},c),{},Object(l.a)({},t.name,t.value)))};return Object(he.jsx)("div",{children:Object(he.jsxs)("form",{onSubmit:function(n){n.preventDefault();var r=c.name,a=c.number,u=t.map((function(e){return e.name}));if(u.includes(n.target.name.value))return alert("".concat(n.target.name.value," says hello from chat"));e(fe({name:r,number:a}))},children:[Object(he.jsx)("h1",{children:"Phonebook"}),Object(he.jsx)("h2",{children:"Name"}),Object(he.jsx)("input",Object(S.a)(Object(S.a)({},ve.name),{},{onChange:s})),Object(he.jsx)("h2",{children:"Number"}),Object(he.jsx)("input",Object(S.a)(Object(S.a)({},ve.number),{},{onChange:s})),Object(he.jsx)("button",{type:"submit",children:"Add contact"})]})})},ge={name:"email",type:"email",placeholder:"Enter email",required:!0},we={name:"password",type:"password",placeholder:"Enter password",required:!0},ke={email:"",password:""},ye=n(43),Ce=n.n(ye),Re=function(){var e=Object(u.useState)(ke),t=Object(me.a)(e,2),n=t[0],r=t[1],c=Object(K.b)(),a=function(e){var t;c((t=e,function(e){e(N()),be(t).then((function(t){return e(z(t))})).catch((function(t){return e(F(t.message))}))}))},s=function(e){var t=e.target,c=t.name,a=t.value;r(Object(S.a)(Object(S.a)({},n),{},Object(l.a)({},c,a)))};return Object(he.jsxs)(he.Fragment,{children:[Object(he.jsx)("h2",{children:"Login"}),Object(he.jsxs)("form",{onSubmit:function(e){e.preventDefault(),a(n),r(Object(S.a)({},ke))},className:Ce.a.form,children:[Object(he.jsx)("div",{children:Object(he.jsx)("input",Object(S.a)(Object(S.a)({},ge),{},{value:n.email,onChange:s}))}),Object(he.jsx)("div",{children:Object(he.jsx)("input",Object(S.a)(Object(S.a)({},we),{},{value:n.password,onChange:s}))}),Object(he.jsx)("button",{type:"submit",children:"Login"})]})]})},_e={name:"email",type:"email",placeholder:"Enter email",required:!0},Le={name:"password",type:"password",placeholder:"Enter password",required:!0},Se={name:"name",type:"text",placeholder:"Enter name",required:!0},qe={email:"",password:"",name:""},Ae=n(44),Ee=n.n(Ae),Ne=function(){var e=Object(u.useState)(qe),t=Object(me.a)(e,2),n=t[0],r=t[1],c=Object(K.b)(),a=function(e){var t;c((t=e,function(e){e(q()),ie(t).then((function(t){return e(A(t))})).catch((function(t){return e(E(t.message))}))}))},s=function(e){var t=e.target,c=t.name,a=t.value;r(Object(S.a)(Object(S.a)({},n),{},Object(l.a)({},c,a)))};return Object(he.jsxs)(he.Fragment,{children:[Object(he.jsx)("h2",{children:"Register"}),Object(he.jsxs)("form",{onSubmit:function(e){e.preventDefault(),a(n),r(Object(S.a)({},qe))},className:Ee.a.form,children:[Object(he.jsx)("div",{children:Object(he.jsx)("input",Object(S.a)(Object(S.a)({},_e),{},{value:n.email,onChange:s}))}),Object(he.jsx)("div",{children:Object(he.jsx)("input",Object(S.a)(Object(S.a)({},Le),{},{value:n.password,onChange:s}))}),Object(he.jsx)("div",{children:Object(he.jsx)("input",Object(S.a)(Object(S.a)({},Se),{},{value:n.name,onChange:s}))}),Object(he.jsx)("button",{type:"submit",children:"Register"})]})]})},ze=function(){return Object(he.jsxs)(T.c,{children:[Object(he.jsx)(T.a,{exact:!0,path:"/",children:Object(he.jsx)(Re,{})}),Object(he.jsx)(T.a,{exact:!0,path:"/register",children:Object(he.jsx)(Ne,{})}),Object(he.jsxs)(T.a,{exact:!0,path:"/contacts",children:[Object(he.jsx)(xe,{}),Object(he.jsx)(pe,{})]})]})},Fe=n(28),Pe=n.n(Fe),De=n(29),Me=[{id:Object(De.a)(),to:"/",text:"HomePage"},{id:Object(De.a)(),to:"/register",text:"Register page"},{id:Object(De.a)(),to:"/contacts",text:"Phonebook Page"}],Be=function(){var e=Me.map((function(e){var t=e.id,n=e.to,r=e.text;return Object(he.jsx)("li",{children:Object(he.jsx)(Q.b,{exact:!0,activeClassName:Pe.a.activeLink,className:Pe.a.link,to:n,children:r})},t)}));return Object(he.jsx)("ul",{className:Pe.a.menu,children:e})},Je=n(46),Ze=n.n(Je),Ge=function(){return Object(he.jsx)("nav",{children:Object(he.jsx)("div",{className:"container",children:Object(he.jsx)("div",{className:Ze.a.row,children:Object(he.jsx)(Be,{})})})})};$.getState();var He=function(){return Object(he.jsx)(he.Fragment,{children:Object(he.jsx)(K.a,{store:$,children:Object(he.jsxs)(Q.a,{children:[Object(he.jsx)(Ge,{}),Object(he.jsx)(ze,{})]})})})};i.a.render(Object(he.jsx)(s.a.StrictMode,{children:Object(he.jsx)(He,{})}),document.getElementById("root"))}},[[79,1,2]]]);
//# sourceMappingURL=main.ba76c359.chunk.js.map