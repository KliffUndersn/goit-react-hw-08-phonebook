{"version":3,"sources":["components/Navbar/NavbarMenu/NavbarMenu.module.css","components/LoginForm/LoginForm.module.css","components/RegisterForm/RegisterForm.module.css","components/Navbar/Navbar.module.css","redux/contacts/contactsActions.js","redux/contacts/contactsReducer.js","redux/auth/authActions.js","redux/auth/authReducer.js","redux/rootReducer.js","redux/store.js","shared/services/api.js","redux/contacts/contactsOperations.js","components/InputForm/ContactList/ContactList.js","components/InputForm/inputForm/fields.js","components/InputForm/inputForm/InputForm.js","redux/auth/authOperations.js","components/LoginForm/fields.js","components/LoginForm/initialState.js","components/LoginForm/LoginForm.js","components/RegisterForm/fields.js","components/RegisterForm/initialState.js","components/RegisterForm/RegisterForm.js","components/PrivateRoutes.js","components/PublicRoutes.js","Routes.js","components/Navbar/NavbarMenu/items.js","components/Navbar/NavbarMenu/NavbarMenu.js","components/Navbar/Navbar.js","App.js","index.js"],"names":["module","exports","filterContact","createAction","getContactRequest","getContactSuccess","getContactError","addContactRequest","addContactSuccess","addContactError","removeContactRequest","removeContactSuccess","removeContactError","itemsReducer","createReducer","filter","items","_","payload","state","e","id","contactsReducer","combineReducers","userRegisterRequest","userRegisterSuccess","userRegisterError","userLoginRequest","userLoginSuccess","userLoginError","userLogOutRequest","userLogOutSuccess","userLogOutError","userRefreshRequest","userRefreshSuccess","userRefreshError","iS","token","user","email","name","userReducer","isAuthReducer","userPersistConfig","key","version","storage","whitelist","persistedUserReducer","persistReducer","authReducer","isAuth","rootReducer","contacts","auth","store","configureStore","reducer","middleware","getDefaultMiddleware","serializableCheck","ignoredActions","FLUSH","REHYDRATE","PAUSE","PERSIST","PURGE","REGISTER","persistor","persistStore","instance","axios","create","baseURL","defaults","headers","common","Authorization","fetchAllContacts","a","get","data","console","log","fetchAddContact","contact","post","fetchRemoveContact","delete","fetchGetCurrent","currentToken","fetchPostSignup","fetchPostLogin","fetchPostLogout","getContact","actionFunc","dispatch","api","addContact","newContact","removeContact","ContactList","useSelector","filterContacts","toLowerCase","includes","useDispatch","map","number","onClick","fields","type","pattern","title","required","InputForm","username","useState","setState","useEffect","handleChange","target","value","getState","then","catch","err","message","onSubmit","preventDefault","newName","alert","onChange","placeholder","initialState","password","LoginForm","setData","handleUserAuth","dataUser","userData","className","styles","form","RegisterForm","PrivateRoute","children","redirectTo","routeProps","isLoggedIn","to","PublicRoute","restricted","shouldRedirect","Routes","exact","path","publicItem","nanoid","text","privateItems","NavbarMenu","menuElements","activeClassName","activeLink","link","menu","Navbar","row","App","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.59358a76.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"menu\":\"NavbarMenu_menu__30d7D\",\"link\":\"NavbarMenu_link__1sJom\",\"activeLink\":\"NavbarMenu_activeLink__1yVqL\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"form\":\"LoginForm_form__2dHBG\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"form\":\"RegisterForm_form__2a0by\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"row\":\"Navbar_row__1Dg6N\"};","import { createAction } from '@reduxjs/toolkit';\r\n\r\n// export const deleteContact = createAction('contacts/delete');\r\n// export const addContact = createAction('contacts/add');\r\nexport const filterContact = createAction('contacts/filter');\r\n\r\nexport const getContactRequest = createAction('contacts/getRequest');\r\nexport const getContactSuccess = createAction('contacts/getSuccess');\r\nexport const getContactError = createAction('contacts/getError');\r\n\r\nexport const addContactRequest = createAction('contacts/addRequest');\r\nexport const addContactSuccess = createAction('contacts/addSuccess');\r\nexport const addContactError = createAction('contacts/addError');\r\n\r\nexport const removeContactRequest = createAction('contacts/removeRequest');\r\nexport const removeContactSuccess = createAction('contacts/removeSuccess');\r\nexport const removeContactError = createAction('contacts/removeError');\r\n","import {\r\n  configureStore,\r\n  createReducer,\r\n  combineReducers,\r\n} from '@reduxjs/toolkit';\r\nimport { persistStore, persistReducer } from 'redux-persist';\r\nimport storage from 'redux-persist/lib/storage';\r\nimport {\r\n  getContactRequest,\r\n  getContactSuccess,\r\n  getContactError,\r\n  addContactRequest,\r\n  addContactSuccess,\r\n  addContactError,\r\n  removeContactRequest,\r\n  removeContactSuccess,\r\n  removeContactError,\r\n  filterContact,\r\n} from './contactsActions';\r\n\r\nconst initialStore = {\r\n  filter: '',\r\n  items: [],\r\n};\r\n\r\nconst itemsReducer = createReducer(initialStore, {\r\n  [getContactSuccess]: (_, { payload }) => {\r\n    return { filter: '', items: payload };\r\n  },\r\n  [addContactSuccess]: (state, { payload }) => {\r\n    return { filter: state.filter, items: [...state.items, payload] };\r\n  },\r\n  [removeContactSuccess]: (state, { payload }) => {\r\n    return {\r\n      filter: state.filter,\r\n      items: state.items.filter(e => e.id !== payload),\r\n    };\r\n  },\r\n  [filterContact]: (state, { payload }) => {\r\n    return { filter: payload, items: [...state.items] };\r\n  },\r\n});\r\n\r\nconst contactsReducer = combineReducers({ items: itemsReducer });\r\nexport default contactsReducer;\r\n","import { createAction } from '@reduxjs/toolkit';\r\n\r\nexport const userRegisterRequest = createAction('auth/userRegisterRequest');\r\nexport const userRegisterSuccess = createAction('auth/userRegisterSuccess');\r\nexport const userRegisterError = createAction('auth/userRegisterError');\r\n\r\nexport const userLoginRequest = createAction('auth/userLoginRequest');\r\nexport const userLoginSuccess = createAction('auth/userLoginSuccess');\r\nexport const userLoginError = createAction('auth/userLoginError');\r\n\r\nexport const userLogOutRequest = createAction('auth/userLogOutRequest');\r\nexport const userLogOutSuccess = createAction('auth/userLogOutSuccess');\r\nexport const userLogOutError = createAction('auth/userLogOutError');\r\n\r\nexport const userRefreshRequest = createAction('auth/userRefreshRequest');\r\nexport const userRefreshSuccess = createAction('auth/userRefreshSuccess');\r\nexport const userRefreshError = createAction('auth/userRefreshError');\r\n","import { createReducer, combineReducers } from '@reduxjs/toolkit';\r\nimport { persistReducer } from 'redux-persist';\r\nimport storage from 'redux-persist/lib/storage';\r\nimport {\r\n  userLoginSuccess,\r\n  userLogOutSuccess,\r\n  userRefreshError,\r\n  userRefreshSuccess,\r\n  userRegisterSuccess,\r\n} from './authActions';\r\n\r\nconst iS = {\r\n  token: null,\r\n  user: {\r\n    email: '',\r\n    name: '',\r\n  },\r\n};\r\n\r\nconst userReducer = createReducer(iS, {\r\n  [userRegisterSuccess]: (_, { payload }) => payload,\r\n  [userLoginSuccess]: (_, { payload }) => payload,\r\n  [userLogOutSuccess]: () => iS,\r\n  [userRefreshSuccess]: (state, { payload }) => ({ ...state, user: payload }),\r\n  [userRefreshError]: () => iS,\r\n});\r\n\r\nconst isAuthReducer = createReducer(false, {\r\n  [userRegisterSuccess]: () => true,\r\n  [userLoginSuccess]: () => true,\r\n  [userLogOutSuccess]: () => false,\r\n  [userRefreshSuccess]: () => true,\r\n  [userRefreshError]: () => false,\r\n});\r\n\r\nconst userPersistConfig = {\r\n  key: 'token',\r\n  version: 1,\r\n  storage,\r\n  whitelist: ['token'],\r\n};\r\n\r\nconst persistedUserReducer = persistReducer(userPersistConfig, userReducer);\r\n\r\nconst authReducer = combineReducers({\r\n  user: persistedUserReducer,\r\n  isAuth: isAuthReducer,\r\n});\r\n\r\nexport default authReducer;\r\n","import { combineReducers } from 'redux';\r\n\r\nimport contactsReducer from '../redux/contacts/contactsReducer';\r\nimport authReducer from './auth/authReducer';\r\n\r\nconst rootReducer = combineReducers({\r\n  contacts: contactsReducer,\r\n  auth: authReducer,\r\n});\r\n\r\nexport default rootReducer;\r\n","import { configureStore } from '@reduxjs/toolkit';\r\nimport {\r\n  persistStore,\r\n  FLUSH,\r\n  REHYDRATE,\r\n  PAUSE,\r\n  PERSIST,\r\n  PURGE,\r\n  REGISTER,\r\n} from 'redux-persist';\r\n\r\nimport rootReducer from './rootReducer';\r\n\r\nconst store = configureStore({\r\n  reducer: rootReducer,\r\n  middleware: getDefaultMiddleware =>\r\n    getDefaultMiddleware({\r\n      serializableCheck: {\r\n        ignoredActions: [FLUSH, REHYDRATE, PAUSE, PERSIST, PURGE, REGISTER],\r\n      },\r\n    }),\r\n});\r\n\r\nexport const persistor = persistStore(store);\r\n\r\nexport default store;\r\n","import axios from 'axios';\r\nimport store from '../../redux/store';\r\n\r\nconst instance = axios.create({\r\n  baseURL: 'https://connections-api.herokuapp.com/',\r\n});\r\nconst token = {\r\n  set(token) {\r\n    instance.defaults.headers.common.Authorization = `Bearer ${token}`;\r\n  },\r\n  unset() {\r\n    instance.defaults.headers.common.Authorization = ``;\r\n  },\r\n};\r\n\r\nexport const fetchAllContacts = async () => {\r\n  const { data } = await instance.get('/contacts');\r\n  console.log(data);\r\n  return data;\r\n};\r\n\r\nexport const fetchAddContact = async contact => {\r\n  const { data } = await instance.post('/contacts', contact);\r\n  return data;\r\n};\r\n\r\nexport const fetchRemoveContact = async id => {\r\n  const { data } = await instance.delete(`/contacts/${id}`);\r\n  return data;\r\n};\r\nexport const fetchGetCurrent = async currentToken => {\r\n  token.set(currentToken);\r\n  const { data } = await instance.get('/users/current');\r\n  return data;\r\n};\r\n\r\nexport const fetchPostSignup = async user => {\r\n  const { data } = await instance.post('/users/signup', user);\r\n  token.set(data.token);\r\n  return data;\r\n};\r\nexport const fetchPostLogin = async user => {\r\n  const { data } = await instance.post('/users/login', user);\r\n  token.set(data.token);\r\n  return data;\r\n};\r\nexport const fetchPostLogout = async user => {\r\n  const { data } = await instance.post('/users/logout', user);\r\n  token.unset();\r\n  return data;\r\n};\r\n\r\nexport default {\r\n  fetchAllContacts,\r\n  fetchAddContact,\r\n  fetchRemoveContact,\r\n  fetchGetCurrent,\r\n  fetchPostSignup,\r\n  fetchPostLogin,\r\n  fetchPostLogout,\r\n};\r\n","import api from '../../shared/services/api';\r\nimport {\r\n  getContactSuccess,\r\n  getContactError,\r\n  getContactRequest,\r\n  addContactError,\r\n  addContactRequest,\r\n  addContactSuccess,\r\n  removeContactError,\r\n  removeContactRequest,\r\n  removeContactSuccess,\r\n} from './contactsActions';\r\n\r\nexport const getContact = () => {\r\n  const actionFunc = async dispatch => {\r\n    dispatch(getContactRequest());\r\n    try {\r\n      const data = await api.fetchAllContacts();\r\n      dispatch(getContactSuccess(data));\r\n    } catch (error) {\r\n      dispatch(getContactError(error));\r\n    }\r\n  };\r\n\r\n  return actionFunc;\r\n};\r\n\r\nexport const addContact = data => {\r\n  const actionFunc = async dispatch => {\r\n    dispatch(addContactRequest());\r\n    try {\r\n      const newContact = await api.fetchAddContact(data);\r\n      dispatch(addContactSuccess(newContact));\r\n    } catch (error) {\r\n      dispatch(addContactError(error));\r\n    }\r\n  };\r\n\r\n  return actionFunc;\r\n};\r\n\r\nexport const removeContact = id => {\r\n  const actionFunc = async dispatch => {\r\n    dispatch(removeContactRequest());\r\n    try {\r\n      const contactId = await api.fetchRemoveContact(id);\r\n\r\n      dispatch(removeContactSuccess(id));\r\n    } catch (error) {\r\n      dispatch(removeContactError(error));\r\n    }\r\n  };\r\n\r\n  return actionFunc;\r\n};\r\n\r\nexport default {\r\n  getContact,\r\n  addContact,\r\n  removeContact,\r\n};\r\n","import { useDispatch, useSelector } from 'react-redux';\r\nimport { removeContact } from '../../../redux/contacts/contactsOperations';\r\n\r\nexport const ContactList = () => {\r\n  const items = useSelector(state => state.contacts.items.items);\r\n  const filter = useSelector(state => state.contacts.items.filter);\r\n\r\n  const filterContacts = e => {\r\n    return items.filter(e => e.name.toLowerCase().includes(filter));\r\n  };\r\n  const dispatch = useDispatch();\r\n  return (\r\n    <>\r\n      {filterContacts && (\r\n        <>\r\n          <h3>Contacts</h3>\r\n          <ul>\r\n            {filterContacts().map(e => (\r\n              <li key={e.id}>\r\n                {e.name} : {e.number}\r\n                <button onClick={() => dispatch(removeContact(e.id))}>\r\n                  Delete\r\n                </button>\r\n              </li>\r\n            ))}\r\n          </ul>\r\n        </>\r\n      )}\r\n    </>\r\n  );\r\n};\r\n","const fields = {\r\n  name: {\r\n    type: 'text',\r\n    name: 'name',\r\n    pattern: \"^[a-zA-Zа-яА-Я]+(([' -][a-zA-Zа-яА-Я ])?[a-zA-Zа-яА-Я]*)*$\",\r\n    title:\r\n      \"Имя может состоять только из букв, апострофа, тире и пробелов. Например Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan и т. п.\",\r\n    required: true,\r\n  },\r\n  number: {\r\n    type: 'tel',\r\n    name: 'number',\r\n    pattern: '+?d{1,4}?[-.s]?(?d{1,3}?)?[-.s]?d{1,4}[-.s]?d{1,4}[-.s]?d{1,9}',\r\n    title:\r\n      'Номер телефона должен состоять цифр и может содержать пробелы, тире, круглые скобки и может начинаться с +',\r\n    required: true,\r\n  },\r\n};\r\nexport default fields;\r\n","import { useEffect, useState } from 'react';\r\nimport { v4 as generate } from 'uuid';\r\nimport { useSelector } from 'react-redux';\r\nimport {\r\n  addContact,\r\n  getContact,\r\n} from '../../../redux/contacts/contactsOperations';\r\nimport fields from './fields';\r\nimport { useDispatch } from 'react-redux';\r\nimport { userLogOut } from '../../../redux/auth/authOperations';\r\n\r\nconst InputForm = () => {\r\n  const dispatch = useDispatch();\r\n  const items = useSelector(state => state.contacts.items.items);\r\n  const username = useSelector(state => state.auth.user.user.name);\r\n  const [state, setState] = useState({\r\n    name: '',\r\n    number: '',\r\n  });\r\n  useEffect(() => {\r\n    dispatch(getContact());\r\n  }, []);\r\n  const handleChange = ({ target }) => {\r\n    setState({ ...state, [target.name]: target.value });\r\n  };\r\n\r\n  const handleSubmit = e => {\r\n    e.preventDefault();\r\n    const { name, number } = state;\r\n\r\n    const newName = items.map(e => e.name);\r\n    if (newName.includes(e.target.name.value)) {\r\n      return alert(`${e.target.name.value} says hello from chat`);\r\n    }\r\n    const singleContact = {\r\n      name,\r\n      number,\r\n    };\r\n    dispatch(addContact(singleContact));\r\n  };\r\n  const logout = () => {\r\n    dispatch(userLogOut());\r\n  };\r\n  return (\r\n    <div>\r\n      <button type=\"button\" onClick={logout}>\r\n        Logout\r\n      </button>\r\n      <div>Greetings {username}</div>\r\n      <form onSubmit={handleSubmit}>\r\n        <h1>Phonebook</h1>\r\n        <h2>Name</h2>\r\n        <input {...fields.name} onChange={handleChange} />\r\n        <h2>Number</h2>\r\n        <input {...fields.number} onChange={handleChange} />\r\n        <button type=\"submit\">Add contact</button>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default InputForm;\r\n","import axios from 'axios';\r\nimport {\r\n  fetchPostLogin,\r\n  fetchPostLogout,\r\n  fetchGetCurrent,\r\n  fetchPostSignup,\r\n} from '../../shared/services/api';\r\nimport {\r\n  userRegisterRequest,\r\n  userRegisterSuccess,\r\n  userRegisterError,\r\n  userLoginRequest,\r\n  userLoginSuccess,\r\n  userLoginError,\r\n  userLogOutRequest,\r\n  userLogOutSuccess,\r\n  userLogOutError,\r\n  userRefreshRequest,\r\n  userRefreshSuccess,\r\n  userRefreshError,\r\n} from './authActions';\r\n\r\nexport const userRegister = userData => dispatch => {\r\n  dispatch(userRegisterRequest());\r\n\r\n  fetchPostSignup(userData)\r\n    .then(data => dispatch(userRegisterSuccess(data)))\r\n    .catch(err => dispatch(userRegisterError(err.message)));\r\n};\r\n\r\nexport const userLogin = userData => dispatch => {\r\n  dispatch(userLoginRequest());\r\n\r\n  fetchPostLogin(userData)\r\n    .then(data => dispatch(userLoginSuccess(data)))\r\n    .catch(err => dispatch(userLoginError(err.message)));\r\n};\r\n\r\nexport const userLogOut = () => (dispatch, getState) => {\r\n  dispatch(userLogOutRequest());\r\n\r\n  const {\r\n    auth: {\r\n      user: { token },\r\n    },\r\n  } = getState();\r\n\r\n  fetchPostLogout(token)\r\n    .then(() => dispatch(userLogOutSuccess()))\r\n    .catch(err => dispatch(userLogOutError(err.message)));\r\n};\r\n\r\nexport const userRefresh = () => (dispatch, getState) => {\r\n  dispatch(userRefreshRequest());\r\n\r\n  const {\r\n    auth: {\r\n      user: { token },\r\n    },\r\n  } = getState();\r\n  fetchGetCurrent(token)\r\n    .then(data => dispatch(userRefreshSuccess(data)))\r\n    .catch(err => dispatch(userRefreshError(err.message)));\r\n};\r\n","export const fields = {\r\n  email: {\r\n    name: 'email',\r\n    type: 'email',\r\n    placeholder: 'Enter email',\r\n    required: true,\r\n  },\r\n  password: {\r\n    name: 'password',\r\n    type: 'password',\r\n    placeholder: 'Enter password',\r\n    required: true,\r\n  },\r\n};\r\n","export const initialState = {\r\n  email: '',\r\n  password: '',\r\n};\r\n","import { useState } from 'react';\r\nimport { useDispatch } from 'react-redux';\r\nimport { userLogin } from '../../redux/auth/authOperations';\r\nimport { fields } from './fields';\r\nimport { initialState } from './initialState';\r\nimport styles from './LoginForm.module.css';\r\n\r\nconst LoginForm = () => {\r\n  const [data, setData] = useState(initialState);\r\n  const dispatch = useDispatch();\r\n\r\n  const handleUserAuth = dataUser => {\r\n    dispatch(userLogin(dataUser));\r\n  };\r\n\r\n  const handleChange = ({ target }) => {\r\n    const { name, value } = target;\r\n    setData({\r\n      ...data,\r\n      [name]: value,\r\n    });\r\n  };\r\n\r\n  const handleSubmit = e => {\r\n    e.preventDefault();\r\n    handleUserAuth(data);\r\n    setData({ ...initialState });\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <h2>Login</h2>\r\n      <form onSubmit={handleSubmit} className={styles.form}>\r\n        <div>\r\n          <input {...fields.email} value={data.email} onChange={handleChange} />\r\n        </div>\r\n        <div>\r\n          <input\r\n            {...fields.password}\r\n            value={data.password}\r\n            onChange={handleChange}\r\n          />\r\n        </div>\r\n        <button type=\"submit\">Login</button>\r\n      </form>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default LoginForm;\r\n","export const fields = {\r\n  email: {\r\n    name: 'email',\r\n    type: 'email',\r\n    placeholder: 'Enter email',\r\n    required: true,\r\n  },\r\n  password: {\r\n    name: 'password',\r\n    type: 'password',\r\n    placeholder: 'Enter password',\r\n    required: true,\r\n  },\r\n  name: {\r\n    name: 'name',\r\n    type: 'text',\r\n    placeholder: 'Enter name',\r\n    required: true,\r\n  },\r\n};\r\n","export const initialState = {\r\n  email: '',\r\n  password: '',\r\n  name: '',\r\n};\r\n","import { useState } from 'react';\r\nimport { useDispatch } from 'react-redux';\r\nimport { userRegister } from '../../redux/auth/authOperations';\r\n\r\nimport { fields } from './fields';\r\nimport { initialState } from './initialState';\r\n\r\nimport styles from './RegisterForm.module.css';\r\n\r\nconst RegisterForm = () => {\r\n  const [data, setData] = useState(initialState);\r\n  const dispatch = useDispatch();\r\n\r\n  const handleUserAuth = dataUser => {\r\n    dispatch(userRegister(dataUser));\r\n  };\r\n\r\n  const handleChange = ({ target }) => {\r\n    const { name, value } = target;\r\n    setData({\r\n      ...data,\r\n      [name]: value,\r\n    });\r\n  };\r\n\r\n  const handleSubmit = e => {\r\n    e.preventDefault();\r\n    handleUserAuth(data);\r\n    setData({ ...initialState });\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <h2>Register</h2>\r\n      <form onSubmit={handleSubmit} className={styles.form}>\r\n        <div>\r\n          <input {...fields.email} value={data.email} onChange={handleChange} />\r\n        </div>\r\n        <div>\r\n          <input\r\n            {...fields.password}\r\n            value={data.password}\r\n            onChange={handleChange}\r\n          />\r\n        </div>\r\n        <div>\r\n          <input {...fields.name} value={data.name} onChange={handleChange} />\r\n        </div>\r\n        <button type=\"submit\">Register</button>\r\n      </form>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default RegisterForm;\r\n","import { useSelector } from 'react-redux';\r\nimport { Route, Redirect } from 'react-router-dom';\r\n\r\nexport default function PrivateRoute({\r\n  children,\r\n  redirectTo = '/',\r\n  ...routeProps\r\n}) {\r\n  const isLoggedIn = useSelector(state => state.auth.isAuth);\r\n  return (\r\n    <Route {...routeProps}>\r\n      {isLoggedIn ? children : <Redirect to={redirectTo} />}\r\n    </Route>\r\n  );\r\n}\r\n","import { useSelector } from 'react-redux';\r\nimport { Route, Redirect } from 'react-router-dom';\r\n\r\nexport default function PublicRoute({\r\n  children,\r\n  restricted = false,\r\n  redirectTo = '/',\r\n  ...routeProps\r\n}) {\r\n  const isLoggedIn = useSelector(state => state.auth.isAuth);\r\n  const shouldRedirect = isLoggedIn && restricted;\r\n  return (\r\n    <Route {...routeProps}>\r\n      {shouldRedirect ? <Redirect to={redirectTo} /> : children}\r\n    </Route>\r\n  );\r\n}\r\n","import { Switch } from 'react-router-dom';\r\nimport { ContactList } from './components/InputForm/ContactList/ContactList';\r\nimport InputForm from './components/InputForm/inputForm/InputForm';\r\nimport LoginForm from './components/LoginForm/LoginForm';\r\nimport RegisterForm from './components/RegisterForm/RegisterForm';\r\nimport PrivateRoute from './components/PrivateRoutes';\r\nimport PublicRoute from './components/PublicRoutes';\r\n\r\nconst Routes = () => {\r\n  return (\r\n    <Switch>\r\n      <PublicRoute restricted exact path=\"/\" redirectTo=\"/contacts\">\r\n        <LoginForm />\r\n      </PublicRoute>\r\n      <PublicRoute restricted exact path=\"/register\" redirectTo=\"/contacts\">\r\n        <RegisterForm />\r\n      </PublicRoute>\r\n      <PrivateRoute exact path=\"/contacts\" redirectTo=\"/\">\r\n        <InputForm />\r\n        <ContactList />\r\n      </PrivateRoute>\r\n    </Switch>\r\n  );\r\n};\r\n\r\nexport default Routes;\r\n","import { nanoid } from 'nanoid';\r\n\r\nexport const publicItem = [\r\n  {\r\n    id: nanoid(),\r\n    to: '/',\r\n    text: 'HomePage',\r\n  },\r\n  {\r\n    id: nanoid(),\r\n    to: '/register',\r\n    text: 'Register page',\r\n  },\r\n];\r\nexport const privateItems = [\r\n  {\r\n    id: nanoid(),\r\n    to: '/contacts',\r\n    text: 'Phonebook Page',\r\n  },\r\n];\r\n","import { NavLink } from 'react-router-dom';\r\n\r\nimport styles from './NavbarMenu.module.css';\r\n\r\nimport { publicItem, privateItems } from './items';\r\nimport { useSelector } from 'react-redux';\r\n\r\nconst NavbarMenu = () => {\r\n  const isLoggedIn = useSelector(state => state.auth.isAuth);\r\n  const arr = isLoggedIn ? privateItems : publicItem;\r\n  const menuElements = arr.map(({ id, to, text }) => (\r\n    <li key={id}>\r\n      <NavLink\r\n        exact\r\n        activeClassName={styles.activeLink}\r\n        className={styles.link}\r\n        to={to}\r\n      >\r\n        {text}\r\n      </NavLink>\r\n    </li>\r\n  ));\r\n\r\n  return <ul className={styles.menu}>{menuElements}</ul>;\r\n};\r\n\r\nexport default NavbarMenu;\r\n","import NavbarMenu from './NavbarMenu/NavbarMenu';\r\n\r\nimport styles from './Navbar.module.css';\r\n\r\nconst Navbar = () => {\r\n  return (\r\n    <nav>\r\n      <div className=\"container\">\r\n        <div className={styles.row}>\r\n          <NavbarMenu />\r\n        </div>\r\n      </div>\r\n    </nav>\r\n  );\r\n};\r\n\r\nexport default Navbar;\r\n","import React, { useEffect } from 'react';\r\nimport store from './redux/store';\r\nimport { BrowserRouter as Router } from 'react-router-dom';\r\nimport Routes from './Routes';\r\nimport Navbar from './components/Navbar/Navbar';\r\nimport { userRefresh } from './redux/auth/authOperations';\r\nimport { useDispatch } from 'react-redux';\r\n\r\nstore.getState();\r\n\r\nfunction App() {\r\n  const dispatch = useDispatch();\r\n  useEffect(() => {\r\n    dispatch(userRefresh());\r\n  }, []);\r\n  return (\r\n    <>\r\n      <Router>\r\n        <Navbar />\r\n        <Routes />\r\n      </Router>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport { PersistGate } from 'redux-persist/lib/integration/react';\r\nimport { Provider } from 'react-redux';\r\nimport store, { persistor } from './redux/store';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <Provider store={store}>\r\n      <PersistGate persistor={persistor}>\r\n        <App />\r\n      </PersistGate>\r\n    </Provider>\r\n  </React.StrictMode>,\r\n  document.getElementById('root'),\r\n);\r\n"],"sourceRoot":""}